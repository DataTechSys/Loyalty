<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>Signing out · Loyalty Console</title>
        <!-- Fonts / Icons / Styles to match the app -->
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
        <link rel="icon" type="image/x-icon" href="images/datatech-ico.ico">
        <link rel="stylesheet" href="css/style.css">
        <style>
    body{background:var(--dt-bg,#f3f5f9)}
    .center-wrap{
      min-height:100vh; display:flex; align-items:center; justify-content:center;
      padding:24px;
    }
    .signout-card{
      max-width:460px; width:100%;
      background:#fff; border:1px solid var(--dt-border,#e5e7eb);
      border-radius:16px; box-shadow:var(--dt-shadow,0 8px 24px rgba(15,23,42,.06));
      padding:22px;
    }
    .brand{
      display:flex; align-items:center; gap:.6rem; margin-bottom:.5rem;
    }
    .brand img{width:24px;height:24px;border-radius:6px}
    .progress-slim .progress-bar{transition:width .5s ease}
  </style>
    </head>
    <body>
        <div class="center-wrap">
            <div class="signout-card">
                <div class="brand">
                    <img src="images/DataTech.png" alt="DataTech"><strong>Loyalty Console</strong>
                </div>
                <h1 class="h5 fw-bold mb-1">Signing you out…</h1>
                <p class="text-muted mb-3">For your security we’re ending your session and returning to the login screen.</p>
                <div class="d-flex align-items-center gap-2 mb-3">
                    <div class="spinner-border text-primary" role="status" aria-hidden="true" style="width:1.25rem;height:1.25rem;"></div><small class="text-muted">Clearing session</small>
                </div>
                <div class="progress progress-slim" style="height:6px;">
                    <div class="progress-bar bg-primary" id="pbar" style="width: 10%;"></div>
                </div>
                <div class="mt-3"><a class="btn btn-outline-secondary btn-sm" href="login.html">Go to login</a>
                </div>
            </div>
        </div>
        <script>
    (function(){
      // Progress animation
      const p = document.getElementById('pbar');
      let w = 10;
      const anim = setInterval(()=>{ w = Math.min(100, w + 15); p.style.width = w + '%'; }, 180);

      // Clear demo/session data (works with or without app-user.js loaded)
      try {
        // our demo key from app-user.js
        sessionStorage.removeItem('dt_session');
        sessionStorage.removeItem('redirectAfterLogin');
        // common extras just in case
        localStorage.removeItem('dt_session');
      } catch(_) {}

      // Extra: if window.UserSession exists, call its clear()
      try { window.UserSession?.clear?.(); } catch(_) {}

      // Small delay for UX, then redirect
      setTimeout(()=>{
        clearInterval(anim);
        location.replace('login.html');
      }, 1100);
    })();
  </script>
    </body>
</html>