<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <link rel="icon" href="images/datatech-ico.ico">
        <title>Order Details · Loyalty Console</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
        <link href="css/style.css" rel="stylesheet">
    </head>
    <body>
        <div class="layout">
            <aside class="sidebar" id="sidebar">
                <div class="sb-brand">
                    <img src="images/DataTech.png" alt="">
                    <span class="brand-text">Loyalty Console</span>
                </div>
                <nav class="sb-nav"><a class="sb-link" href="dashboard.html"><i class="fa-solid fa-gauge-high"></i><span class="sb-text">Dashboard</span></a><a class="sb-link active" href="orders.html"><i class="fa-solid fa-cart-shopping"></i><span class="sb-text">Orders</span></a><a class="sb-link" href="customers.html"><i class="fa-solid fa-users"></i><span class="sb-text">Customers</span></a><a class="sb-link" href="messages.html"><i class="fa-solid fa-paper-plane"></i><span class="sb-text">Messages</span></a><a class="sb-link" href="reports.html"><i class="fa-solid fa-chart-line"></i><span class="sb-text">Reports</span></a><a class="sb-link" href="settings.html"><i class="fa-solid fa-gear"></i><span class="sb-text">Settings</span></a><a class="sb-link" href="admin.html"><i class="fa-solid fa-user-shield"></i><span class="sb-text">Admin</span></a>
                </nav>
                <div class="sb-footer">&copy; DataTech 2025</div>
            </aside>
            <div class="main">
                <header class="dt-topbar">
                    <div class="tb-inner container d-flex align-items-center justify-content-between">
                        <div class="d-flex align-items-center gap-2">
                            <button class="btn-icon burger" id="burger">☰</button>
                            <button class="btn-icon" id="collapseBtn">
                                <i class="fa-solid fa-bars"></i>
                            </button>
                        </div>
                        <div></div>
                        <div class="userchip-wrap"></div>
                    </div>
                </header>
                <main class="page">
                    <div class="container-narrow">
                        <div class="d-flex align-items-center justify-content-between mb-2">
                            <div>
                                <h1 class="h5 fw-bold mb-0">Order <span id="ref">—</span></h1>
                                <div class="text-muted small">Details and line items</div>
                            </div><a class="btn btn-outline-secondary btn-sm" href="orders.html">Back to Orders</a>
                        </div>
                        <div class="row g-2">
                            <div class="col-12 col-lg-4">
                                <div class="dt-card p-card">
                                    <h2 class="h6 mb-2">Summary</h2>
                                    <div id="summary"></div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-8">
                                <div class="dt-card p-card">
                                    <h2 class="h6 mb-2">Items</h2>
                                    <div class="table-responsive">
                                        <table class="table mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Item</th>
                                                    <th>Qty</th>
                                                    <th class="text-end">Total</th>
                                                </tr>
                                            </thead>
                                            <tbody id="items"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script>
  (function(){
    const sidebar=document.getElementById('sidebar');
    document.getElementById('burger')?.addEventListener('click',()=> sidebar.classList.toggle('open'));
    document.getElementById('collapseBtn')?.addEventListener('click',()=> sidebar.classList.toggle('collapsed'));
    sidebar?.querySelectorAll('a.sb-link').forEach(a=>a.addEventListener('click',()=> sidebar.classList.remove('open')));
  })();
</script>
        <script src="js/app-user.js"></script>
        <script>
  (function(){
    if (window.UserSession && !window.UserSession.isAuthenticated()){
      sessionStorage.setItem('redirectAfterLogin','order-details.html'+location.search);
      location.replace('login.html'); return;
    }
    const params=new URLSearchParams(location.search);
    const id=params.get('id')||'1765956';
    document.getElementById('ref').textContent = '#'+id;

    // demo payload
    const order={ref:'#'+id, name:'Mustafa', total:'KWD 5.000', status:'Paid', when:'Today 09:45',
      items:[{name:'Latte', qty:1, total:'KWD 2.000'},{name:'Sandwich', qty:1, total:'KWD 3.000'}]};
    summary.innerHTML=`
      <div class="mb-1"><strong>Customer:</strong> ${order.name}</div>
      <div class="mb-1"><strong>Total:</strong> ${order.total}</div>
      <div class="mb-1"><strong>Status:</strong> <span class="badge-soft st-paid">Paid</span></div>
      <div class="text-muted small">${order.when}</div>
    `;
    items.innerHTML=order.items.map(i=>`<tr><td>${i.name}</td><td>${i.qty}</td><td class="text-end">${i.total}</td></tr>`).join('');
  })();
</script>
    </body>
</html>