<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>Order Details · Loyalty Console</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
        <link rel="icon" type="image/x-icon" href="images/datatech-ico.ico">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/sidebar.css">
    </head>
    <body>
        <div class="layout">
            <aside class="sidebar" id="sidebar" data-include="partials/sidebar.html"></aside>
            <div class="main">
                <div data-include="partials/topbar.html"></div>
                <main class="page">
                    <div class="container-narrow"><a href="orders.html" class="small text-decoration-none"><i class="fa-solid fa-chevron-left me-1"></i>Back to Orders</a>
                        <h1 class="h5 fw-bold mb-2" id="odTitle">Order</h1>
                        <div class="dt-card p-card">
                            <div class="row g-2">
                                <div class="col-md-6">
                                    <div class="small text-muted">Customer</div>
                                    <div id="odCustomer" class="fw-semibold">—</div>
                                    <div class="small text-muted mt-2">Phone</div>
                                    <div id="odPhone">—</div>
                                    <div class="small text-muted mt-2">Store / Branch</div>
                                    <div id="odBranch">—</div>
                                </div>
                                <div class="col-md-6">
                                    <div class="small text-muted">Payment Type</div>
                                    <div id="odPay">—</div>
                                    <div class="small text-muted mt-2">Amount (KWD)</div>
                                    <div id="odAmt" class="fw-semibold">KWD 0.000</div>
                                    <div class="small text-muted mt-2">When</div>
                                    <div id="odWhen">—</div>
                                </div>
                            </div>
                            <div class="border-top mt-2 pt-2">
                                <div class="small text-muted mb-1">Items</div>
                                <div class="table-responsive">
                                    <table class="table align-middle">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                                <th class="text-end">Qty</th>
                                                <th class="text-end">Price</th>
                                            </tr>
                                        </thead>
                                        <tbody id="odItems"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="js/dt-include.js"></script>
        <script src="js/sidebar.js" defer></script>
        <script src="js/app-user.js" defer></script>
        <script>
  (function(){
    const fmtKWD = v => 'KWD '+Number(v||0).toLocaleString(undefined,{minimumFractionDigits:3,maximumFractionDigits:3});
    const id = new URLSearchParams(location.search).get('id') || '1765956';
    document.getElementById('odTitle').textContent = 'Order #'+id;

    // tiny demo record
    const rec = {
      customer:'Mustafa', phone:'+965 5000 0000', branch:'Abu Halifa',
      pay:'KNET', amt:5.000, when:'Today 09:45',
      items: [
        { name:'Americano', qty:1, price:1.500 },
        { name:'Croissant', qty:2, price:1.750 }
      ]
    };
    odCustomer.textContent = rec.customer;
    odPhone.textContent    = rec.phone;
    odBranch.textContent   = rec.branch;
    odPay.textContent      = rec.pay;
    odAmt.textContent      = fmtKWD(rec.amt);
    odWhen.textContent     = rec.when;
    odItems.innerHTML = rec.items.map(i=>`
      <tr><td>${i.name}</td><td class="text-end">${i.qty}</td><td class="text-end">${fmtKWD(i.price)}</td></tr>
    `).join('');
  })();
  </script>
    </body>
</html>